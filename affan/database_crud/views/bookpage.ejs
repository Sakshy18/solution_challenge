<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

   <!-- custom css file link  -->
   <link rel="stylesheet" href="product_card.css">

   <!-- custom js file link  -->
   <script src="product.js" defer></script>
    
    <title>Document</title>
</head>
<body>
    <div class="container">

        <h3 class="title"> Our Library </h3>
     
        <div class="products-container">
            <% let i=0 %> 
            <% for( let book of books ) { %>
                <div class="product" data-name="p-<%= i+1 %>  ">
                   <img src="images/1.jpg" alt="">
                   <h3><%= book.name %> </h3>
                   <div class="price">$<%= book.price %></div>
                </div>
          
            <% } %>
          
     
     </div>
     
     <div class="products-preview">
      
      
      <% for( let j = 0; j < 5; j++ ) { %>
      
         
         <div class="preview" data-target="p-<% i+1 %> ">
            <i class="fas fa-times"></i>
            <img src="images/1.jpg" alt="">
            <h3>BOOK <% i+1 %> </h3>
            <div class="stars">
               <i class="fas fa-star"></i>
               <i class="fas fa-star"></i>
               <i class="fas fa-star"></i>
               <i class="fas fa-star"></i>
               <i class="fas fa-star-half-alt"></i>
               <span>( 250 )</span>
            </div>
            <p>book description in short.</p>
            <div class="price">$2.00</div>
            <div class="buttons">
               <a href="#" class="buy">contact seller</a>
               <!-- <a href="#" class="cart">add to cart</a> -->
            </div>
         </div>
     
        <% } %>
        <div class="preview" data-target="p-2">
           <i class="fas fa-times"></i>
           <img src="images/2.jpg" alt="">
           <h3>book 2</h3>
           <div class="stars">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star-half-alt"></i>
              <span>( 250 )</span>
           </div>
           <p>book description in short.</p>
           <div class="price">$2.00</div>
           <div class="buttons">
              <a href="#" class="buy">contact seller</a>
              <!-- <a href="#" class="cart">add to cart</a> -->
           </div>
        </div>
     
        <div class="preview" data-target="p-3">
           <i class="fas fa-times"></i>
           <img src="images/3.jpg" alt="">
           <h3>book 3</h3>
           <div class="stars">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star-half-alt"></i>
              <span>( 250 )</span>
           </div>
           <p>book description in short.</p>
           <div class="price">$2.00</div>
           <div class="buttons">
              <a href="#" class="buy">contact seller</a>
              <!-- <a href="#" class="cart">add to cart</a> -->
           </div>
        </div>
     
        <div class="preview" data-target="p-4">
           <i class="fas fa-times"></i>
           <img src="images/4.jpg" alt="">
           <h3>book 4</h3>
           <div class="stars">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star-half-alt"></i>
              <span>( 250 )</span>
           </div>
           <p>book description in short.</p>
           <div class="price">$2.00</div>
           <div class="buttons">
              <a href="#" class="buy">contact seller</a>
              <!-- <a href="#" class="cart">add to cart</a> -->
           </div>
        </div>
     
        <div class="preview" data-target="p-5">
           <i class="fas fa-times"></i>
           <img src="images/5.jpg" alt="">
           <h3>book 5</h3>
           <div class="stars">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star-half-alt"></i>
              <span>( 250 )</span>
           </div>
           <p>book description in short.</p>
           <div class="price">$2.00</div>
           <div class="buttons">
              <a href="#" class="buy">contact seller</a>
              <!-- <a href="#" class="cart">add to cart</a> -->
           </div>
        </div>
     
        <div class="preview" data-target="p-6">
           <i class="fas fa-times"></i>
           <img src="images/6.jpg" alt="">
           <h3>book 5</h3>
           <div class="stars">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star-half-alt"></i>
              <span>( 250 )</span>
           </div>
           <p>book description in short.</p>
           <div class="price">$2.00</div>
           <div class="buttons">
              <a href="#" class="buy">contact seller</a>
              <!-- <a href="#" class="cart">add to cart</a> -->
           </div>
        </div>
     
     </div>
</body>
<script>
   let preveiwContainer = document.querySelector('.products-preview');
let previewBox = preveiwContainer.querySelectorAll('.preview');

document.querySelectorAll('.products-container .product').forEach(product =>{
  product.onclick = () =>{
    preveiwContainer.style.display = 'flex';
    let name = product.getAttribute('data-name');
    previewBox.forEach(preview =>{
      let target = preview.getAttribute('data-target');
      if(name == target){
        preview.classList.add('active');
      }
    });
  };
});

previewBox.forEach(close =>{
  close.querySelector('.fa-times').onclick = () =>{
    close.classList.remove('active');
    preveiwContainer.style.display = 'none';
  };
});

</script>
</html>
